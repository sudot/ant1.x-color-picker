name: GitHub Actions Build and Deploy

on:
  # è§¦å‘æ­¤æµç¨‹çš„åŠ¨ä½œ
  push:
    branches:
      # è§¦å‘æ­¤æµç¨‹çš„åˆ†æ”¯åç§°
      - master

permissions:
  # ä»“åº“å†…å®¹å†™æƒé™ï¼ˆGitHubä¼šåˆ›å»ºä¸€ä¸ªé»˜è®¤çš„ GITHUB_TOKENï¼‰
  contents: write

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
    - name: å®‰è£… Node.js
      uses: actions/setup-node@v4
      with:
        node-version: 20

    - name: æ‹‰å–é¡¹ç›® ğŸ›ï¸
      uses: actions/checkout@v4

    - name: å®‰è£…ä¾èµ–å¹¶ç¼–è¯‘ ğŸ”§
      run: |
        npm install
        npm run build

    - name: éƒ¨ç½² ğŸš€
      uses: JamesIves/github-pages-deploy-action@v4
      with:
        # è‹¥ä¸Šé¢ GITHUB_TOKEN çš„æƒé™æ»¡è¶³ä¸äº†éœ€æ±‚ï¼Œå°±åœ¨è¿™é…ç½®ä¸€ä¸ªè‡ªå·±çš„ token
        # ssh-key: ${{ secrets.ACCESS_TOKEN }}
        branch: gh-pages
        folder: dist
